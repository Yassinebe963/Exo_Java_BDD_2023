<%@ page import="java.util.HashMap, java.util.Map" %>
<html>
<head>
    <title>ASCII Art Generator</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 2em; }
        h1 { color: #333; }
        .ascii-output { 
            font-family: monospace; 
            white-space: pre; 
            background-color: #fff; 
            padding: 1em; 
            border: 1px solid #ccc;
        }
        .ascii-form { margin-bottom: 1em; }
        input[type=text] { width: 300px; padding: 0.5em; }
        input[type=submit] { padding: 0.5em 1em; }
    </style>
</head>
<body>
    <h1>ASCII Art Generator</h1>
    <div class="ascii-form">
        <form method="post">
            Texte : <input type="text" name="text" placeholder="Entrez un texte..." />
            <input type="submit" value="Générer ASCII Art" />
        </form>
    </div>
    <div class="ascii-output">
<%
    // 1. Définir la carte ASCII_ART_MAP
    Map<Character, String[]> asciiMap = new HashMap<>();
    asciiMap.put('A', new String[]{ " # ", "# #", "###", "# #", "# #" });
    asciiMap.put('B', new String[]{ "## ", "# #", "## ", "# #", "## " });
    asciiMap.put('C', new String[]{ " ##", "#  ", "#  ", "#  ", " ##" });
    asciiMap.put('D', new String[]{ "## ", "# #", "# #", "# #", "## " });
    asciiMap.put('E', new String[]{ "###", "#  ", "## ", "#  ", "###" });
    asciiMap.put('F', new String[]{ "###", "#  ", "## ", "#  ", "#  " });
    asciiMap.put('G', new String[]{ " ##", "#  ", "# #", "# #", " ##" });
    asciiMap.put('H', new String[]{ "# #", "# #", "###", "# #", "# #" });
    asciiMap.put('I', new String[]{ "###", " # ", " # ", " # ", "###" });
    asciiMap.put('J', new String[]{ "  #", "  #", "  #", "# #", " # " });
    asciiMap.put('K', new String[]{ "# #", "# #", "## ", "# #", "# #" });
    asciiMap.put('L', new String[]{ "#  ", "#  ", "#  ", "#  ", "###" });
    asciiMap.put('M', new String[]{ "# #", "###", "###", "# #", "# #" });
    asciiMap.put('N', new String[]{ "# #", "###", "###", "###", "# #" });
    asciiMap.put('O', new String[]{ " # ", "# #", "# #", "# #", " # " });
    asciiMap.put('P', new String[]{ "## ", "# #", "## ", "#  ", "#  " });
    asciiMap.put('Q', new String[]{ " # ", "# #", "# #", " ##", "  #" });
    asciiMap.put('R', new String[]{ "## ", "# #", "## ", "# #", "# #" });
    asciiMap.put('S', new String[]{ " ##", "#  ", " # ", "  #", "## " });
    asciiMap.put('T', new String[]{ "###", " # ", " # ", " # ", " # " });
    asciiMap.put('U', new String[]{ "# #", "# #", "# #", "# #", "###" });
    asciiMap.put('V', new String[]{ "# #", "# #", "# #", "# #", " # " });
    asciiMap.put('W', new String[]{ "# #", "# #", "###", "###", "# #" });
    asciiMap.put('X', new String[]{ "# #", "# #", " # ", "# #", "# #" });
    asciiMap.put('Y', new String[]{ "# #", "# #", " # ", " # ", " # " });
    asciiMap.put('Z', new String[]{ "###", "  #", " # ", "#  ", "###" });
    asciiMap.put(' ', new String[]{ "   ", "   ", "   ", "   ", "   " });
    String[] unknownPattern = new String[]{ "???", "???", "???", "???", "???" };

    // 2. Traitement de la soumission
    String inputText = request.getParameter("text");
    if (inputText != null) {
        String s = inputText.toUpperCase();

        // 3. Construction de l'ASCII art
        StringBuilder[] outputLines = new StringBuilder[5];
        for (int i = 0; i < 5; i++) {
            outputLines[i] = new StringBuilder();
        }
        for (char c : s.toCharArray()) {
            String[] pattern = asciiMap.getOrDefault(c, unknownPattern);
            for (int i = 0; i < pattern.length; i++) {
                outputLines[i].append(pattern[i]);
            }
        }
        // 4. Affichage ligne par ligne
        for (StringBuilder line : outputLines) {
            out.println(line.toString());
        }
    }
%>
    </div>
</body>
</html>
